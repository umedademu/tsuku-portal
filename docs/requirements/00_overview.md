# Vercel向け新規サイト開発 要件メモ

## 1. 目的
- 自社サービスの強みをわかりやすく伝え、問い合わせ数を増やす。
- PC・スマートフォンのどちらでも快適に閲覧できるページを用意する。
- 今後の運用や更新をしやすい構成にする。

## 2. 対象範囲
- トップページ、サービス紹介、事例紹介、SEO記事、問い合わせ導線を含む公開サイト。
- 問い合わせ内容を記録し、担当者へ通知する仕組み。
- AIを使った補助回答や提案表示（診断フローのサポート）。
- 計測タグやメール配信などの運用設定。

## 3. 機能要件
### コンテンツ表示
- ページ構成はトップ → サービス詳細 → 事例詳細 → 記事詳細の流れで整理する。
- 記事や事例はカテゴリやタグで探しやすくし、関連記事を表示する。
- ページ上部の案内や下部の案内で問い合わせに誘導する。

### 問い合わせフロー
- チャット形式で質問に答えながら入力できるようにする。
- 氏名・連絡先など基本情報の入力と、必要に応じてファイル添付に対応する。
- 送信後は受付完了メッセージと今後の流れを表示する。
- テキストが入力途中でも離脱後に復元できる仕組みを検討する。

### AI補助
- 診断シナリオでは、入力内容をまとめた提案やヒントをAIで提示する。
- 応答が得られない場合は定型メッセージに切り替え、担当者対応を案内する。

### 管理・運用
- 記事や事例、問い合わせ履歴などのデータは外部サービス（例：Supabase）で管理する。
- 通知メールやSlack連携などを準備し、受付内容を迅速に共有できるようにする。
- 計測タグの設定は環境変数などで切り替えやすく管理する。

## 4. 品質要件
- 表示速度や操作感はCore Web Vitalsの推奨値を満たすことを目標にする。
- PC・タブレット・スマートフォンで見た目や操作が崩れないことを確認する。
- 入力エラー時には原因と対応方法がすぐに分かるようにする。
- 主要ページは定期的に表示テスト・アクセシビリティ確認を行う。

## 5. データと外部サービス
- 文章や問い合わせ情報はクラウド上のデータベースに保存する。
- 添付ファイルは公開されないストレージに保存し、一定期間で整理する。
- メール送信サービス（例：SendGrid）を使い、認証情報は環境変数で管理する。
- 利用状況の集計データはダッシュボードなどで確認できるようにする。

## 6. セキュリティと運用
- すべての通信はHTTPSで暗号化する。
- APIキーや各種認証情報は安全な保管方法で管理し、コードに直書きしない。
- データのバックアップを定期的に取得し、復旧手順をまとめておく。
- 個人情報の取り扱い方針（保存期間や削除方法など）を明文化する。

## 7. 成果物
- Next.jsを使ったサイト本体と、関連するサーバーレスAPI一式。
- インフラ設定メモ（Vercel、Supabase、メールサービス、計測設定など）。
- データ項目表、APIの入出力仕様、問い合わせ通知の運用ルール。
- 運用マニュアル（デプロイ手順、環境変数一覧、トラブル対応手順）。
